<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet"> 
        <link rel="stylesheet" type="text/css" href="../css/play.css">
        <script src="../js/play_procedure.js"></script>
        <title>Game</title>
    </head>
    <body>
        <div class="topnav">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-arrow-return-left mx-3 logo" onClick="goBack()" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5z"/>
              </svg>
            <img src="../img/vueling_logo2.png" width="90" height="50" alt="" class="logo" onClick="goToMenu()">
        </div>
        <main class=" mx-0 grid">
            <div class="centrar py-5 px-5" width="600" height="600">
                <canvas class="centrar" id="my-canvas"></canvas>
            </div>
            <table class="">
                <tbody class="" >
                    <tr class="" >
                        <td class="">
                            <button href="" class="btn btn-secondary btn-outline-dark text-white" onClick="checkIfCorrect('option1')">Option 1</button>
                            <p class="style2" id="option1"></p>
                        </td>
                    </tr>
                    <tr>
                        <td class="">
                            <button href="" class="btn btn-secondary btn-outline-dark text-white" onClick="checkIfCorrect('option2')">Option 2</button>
                            <p class="style2" id="option2"></p>
                        </td>
                    </tr>
                    <tr>
                        <td class="">
                            <button href="" class="btn btn-secondary btn-outline-dark text-white" onClick="checkIfCorrect('option3')">Option 3</button>
                            <p class="style2" id="option3"></p>
                        </td>
                    </tr>
                    <tr>
                        <td class="">
                            <button href="" class="btn btn-secondary btn-outline-dark text-white" onClick="checkIfCorrect('option4')">Option 4</button>
                            <p class="style2" id="option4"></p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <script>loadImages()</script>
            <div class="py-5 px-5 centrar">
                <table class="table tbody tr" id="usersPoints">
                    <thead>
                        <tr class="th">
                            <th class="font-title th">Username</th>
                            <th class="font-title th">Points</th>
                        </tr>
                    </thead>
                    <tbody class="td font-txt">
                    </tbody>
                </table>
            </div>

            <script>
                function generateTable() {
                    var hostname = sessionStorage.getItem('hostname');
                    var roomMapJSON = localStorage.getItem("roomMap");
                    var roomMap = new Map(JSON.parse(roomMapJSON));
                    var players = roomMap.get(hostname);
                    var tableBody = document.querySelector("#usersPoints tbody");
    
                    players.forEach((value, key) => {
                        var row = tableBody.insertRow(-1);
                        var nameCell = row.insertCell(0);
                        var pointsCell = row.insertCell(1);
                        nameCell.innerHTML = value[0];
                        nameCell.className = "font td th";
                        pointsCell.innerHTML = value[1];
                        pointsCell.className = "font td th";
                    });
                }
                generateTable();
            </script>
        </main>
    </body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" 
      integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
</html>